%for a more compact document, add the option openany to avoid
%starting all chapters on odd numbered pages
\documentclass[12pt]{cmuthesis}

% This is a template for a CMU thesis.  It is 18 pages without any content :-)
% The source for this is pulled from a variety of sources and people.
% Here's a partial list of people who may or may have not contributed:
%
%        bnoble   = Brian Noble
%        caruana  = Rich Caruana
%        colohan  = Chris Colohan
%        jab      = Justin Boyan
%        josullvn = Joseph O'Sullivan
%        jrs      = Jonathan Shewchuk
%        kosak    = Corey Kosak
%        mjz      = Matt Zekauskas (mattz@cs)
%        pdinda   = Peter Dinda
%        pfr      = Patrick Riley
%        dkoes = David Koes (me)

% My main contribution is putting everything into a single class files and small
% template since I prefer this to some complicated sprawling directory tree with
% makefiles.
\newcommand{\todolater}[1]{{\color{magenta} TODO (Later): #1}}
\newcommand{\todo}[1]{{\color{red} TODO: #1}}

% some useful packages
\usepackage{times}     % use times font for document
\renewcommand{\ttdefault}{txtt} % use txtt for typewriter font
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage[numbers,sort]{natbib}
\usepackage[backref,pageanchor=true,plainpages=false, pdfpagelabels, bookmarks,bookmarksnumbered,
pdfborder={0 0 0},  %removes outlines around hyper links in online display
]{hyperref}
\usepackage{subfigure}

% Approximately 1" margins, more space on binding side
%\usepackage[letterpaper,twoside,vscale=.8,hscale=.75,nomarginpar]{geometry}
%for general printing (not binding)
\usepackage[letterpaper,twoside,vscale=.8,hscale=.75,nomarginpar,hmarginratio=1:1]{geometry}

% Provides a draft mark at the top of the document. 
\draftstamp{\today}{DRAFT}


% I hate hyphenation.
\lefthyphenmin=7

\begin{document} 
\frontmatter

%initialize page style, so contents come out right (see bot) -mjz
\pagestyle{empty}

\title{ %% {\it \huge Thesis Proposal}\\
{\bf Modularly Programmable Syntax\\and Type Structure}}
\author{Cyrus Omar}
\date{\today}
\Year{2015}
\trnumber{}

\committee{Jonathan Aldrich, Chair\\\todo{confirm rest of committee}}

\support{
%Funded by DOE CSGF, NSF GRFP, NSF, NSA, ...?
}
\disclaimer{}
\permission{}

% copyright notice generated automatically from Year and author.
% permission added if \permission{} given.

\keywords{\todo{keywords}}

\maketitle

\begin{dedication}\todo{dedication}
\end{dedication}

\pagestyle{plain} % for toc, was empty

%% Obviously, it's probably a good idea to break the various sections of your thesis
%% into different files and input them into this file...

\begin{abstract}
\noindent
Full-scale functional programming languages often make \emph{ad hoc} choices in the design of their concrete syntax and type structure. For example, nearly all major functional languages include derived forms for lists, but introducing derived forms  for other library constructs requires forming a new dialect of the language. Unfortunately, there is generally no way to modularly combine such dialects, limiting the choices available to client programmers. 
We describe and formally specify new primitives that mitigate the need for dialects by giving library providers the ability to programmatically control  syntactic expansion, typechecking and translation (to a small typed internal lan\-guage) in a safe and modular manner. %We give a number of examples of constructs that are built primitively into major functional languages and their dialects, but an be expressed instead in libraries using these more general primitives.
\end{abstract}

%\begin{acknowledgments}
%\todolater{Acknowledgments}
%\end{acknowledgments}


\tableofcontents
\listoffigures
%\listoftables

\mainmatter

% \section*{Global TODO}
% Current:
% \begin{itemize}
% \item \todo{Rename OCaml to O'Caml (?)}
% \end{itemize}

% \noindent
% Before finalizing:
% \begin{itemize}
% \item \todolater{Add acknowledgements}
% \item \todolater{Add dedication}
% \item \todolater{Add keywords}
% \item \todolater{Add TR number}
% \item \todolater{Add CC license}
% \item \todolater{Add funding acknowledgement.}
% \end{itemize}
%% Double space document for easy review:
%\renewcommand{\baselinestretch}{1.66}\normalsize

% The other requirements Catherine has:
%
%  - avoid large margins.  She wants the thesis to use fewer pages, 
%    especially if it requires colour printing.
%
%  - The thesis should be formatted for double-sided printing.  This
%    means that all chapters, acknowledgements, table of contents, etc.
%    should start on odd numbered (right facing) pages.
%
%  - You need to use the department standard tech report title page.  I
%    have tried to ensure that the title page here conforms to this
%    standard.
%
%  - Use a nice serif font, such as Times Roman.  Sans serif looks bad.
%
% Other than that, just make it look good...



\input{intro}
\input{language-overview}

\part{Modularly Programmable Syntax}\label{part:syntax}
\input{syntax-motivation}
\input{tsms}
\input{tsls}
\input{syntax-conclusion}

\part{Modularly Programmable Type Structure}\label{part:metamodules}
\input{metamodules-motivation}
\input{metamodules}

\input{conclusion}

\input{appendix}

\backmatter

%\renewcommand{\baselinestretch}{1.0}\normalsize
% By default \bibsection is \chapter*, but we really want this to show
% up in the table of contents and pdf bookmarks.
\renewcommand{\bibsection}{\chapter{\bibname}}
\renewcommand{\bibpreamble}{\todolater{List conference abbreviations.}\\
\todolater{Remove extraneous nonsense from entries.}}
\bibliographystyle{plainnat}
\bibliography{../research} %your bib file

\end{document}
