\newcommand{\lamA}{\lambda_{\text{A}}}

\newcommand{\kvarCtx}{\mathcal{K}}
\newcommand{\labelCtx}{\mathcal{L}}
\newcommand{\tvarCtx}{\mathcal{T}}
\newcommand{\mvarCtx}{\mathcal{U}}
\newcommand{\evarCtx}{\mathcal{E}}
\newcommand{\mCtx}{\Theta}
\newcommand{\eCtx}{\Gamma}
\newcommand{\extendeCtx}[5]{\eCtx, \translatesTo{\evar{#1}}{#2}{#3}{#4}{#5}}

% Generic stuff
\newcommand{\pipe}{~\text{\large $\vert$}~}
%\newcommand{\sslash}{~/~}
\newcommand{\splat}[3]{#1_{#2},\ldots,#1_{#3}}
\newcommand{\splatC}[3]{#1_{#2}~~~~\cdots~~~~#1_{#3}}
\newcommand{\splatTwo}[4]{#1_{#3}#2_{#3},~\ldots~, #1_{#4}#2_{#4}}
\newcommand{\psit}[1]{\psi_{\text{#1}}}
\newcommand{\delt}[1]{\delta_{\text{#1}}}
\newcommand{\psitype}{\psit{type}}
\newcommand{\psiproof}{\psit{proof}}
\newcommand{\psiidx}{\psit{idx}}
\newcommand{\psiidxn}[1]{\psit{idx,#1}}
\newcommand{\delrep}{\delt{rep}}
\newcommand{\psirepn}[1]{\psit{rep,#1}}
\newcommand{\psiden}{\psit{den}}
\newcommand{\psiIT}{\psit{IT}}
\newcommand{\psiarrow}{\psit{arrow}}
\newcommand{\psiprod}{\psit{prod}}
\newcommand{\psiint}{\psit{int}}
\newcommand{\psibool}{\psit{bool}}
\newcommand{\psiprog}{\psit{prog}}

\newcommand{\substn}[2]{[#1]#2}


% Expressions
\newcommand{\elam}[3]{\lam{#1}{#2}{#3}}
\newcommand{\evar}[1]{\textrm{#1}}
\newcommand{\eapp}[2]{#1~#2}
\newcommand{\econst}[2]{#1.\textsf{#2}}
\newcommand{\eop}[3]{#1.\textsf{#2}(#3)}

% Types

\newcommand{\tdef}[3]{{\sf def}~\tvar{#1}=#2~{\sf in}~#3}
\newcommand{\tlam}[2]{\lambda[#1].#2}
\newcommand{\tvar}[1]{\textbf{#1}}
\newcommand{\tapp}[2]{#1(#2)}

\newcommand{\tifeq}[4]{{\sf if}~#1=_{\beta}#2~{\sf then}~#3~{\sf else}~#4}

\newcommand{\tLam}[2]{\Lambda #1.#2}
\newcommand{\tApp}[2]{#1[#2]}

\newcommand{\tstr}{\mathbb{S}}
\newcommand{\tunit}{()}
\newcommand{\tpair}[2]{(#1, #2)}
\newcommand{\tfst}[1]{{\sf fst}~#1}
\newcommand{\tsnd}[1]{{\sf snd}~#1}

\newcommand{\tfamname}[1]{\textsc{#1}}
\newcommand{\tfam}[4]{{\sf family}~\tfamname{#1}[#2]\{#3\}~{\sf in}~#4}
\newcommand{\ttype}[5]{{\sf type}~\tvar{#1}~{\sf of}~\tfamname{#2}[#3]~::~#4~\{#5\}}
\newcommand{\tidx}[1]{{\sf idx}~#1}
\newcommand{\tfamcase}[4]{{\sf famcase}~#1~{\sf of}~\tfamname{#2}~{\sf then}~#3~{\sf else}~#4}

%\newcommand{\tarrow}[2]{#1 \rightarrow #2}
%\newcommand{\ttype}[3]{{\sf type}[#1:#2]::#3}
%\newcommand{\trepof}[1]{{\sf rep}~#1}

\newcommand{\terr}{{\sf err}}
\newcommand{\ttypeof}[1]{{\sf typeof}~#1}

\newcommand{\tlabel}[3]{{\sf label}~#1~{\sf of}~#2~{\sf in}~#3}
\newcommand{\tnewOf}[2]{\klabel{#1}(#2)}
\newcommand{\topen}[1]{{\sf open}~#1}

\newcommand{\tidxcase}[4]{{\sf idxcase~}#1~{\sf of}~#2 \Rightarrow #3~{\sf else}~#4}%\Rightarrow#4}
\newcommand{\ttidxcase}[4]{{\sf tidxcase~}#1~{\sf of}~#2 \Rightarrow #3~{\sf else}~#4}%\Rightarrow#4}
\newcommand{\tcasev}{\omega^n}

\newcommand{\tconst}[1]{{\sf const}(#1)}
\newcommand{\tOp}[1]{{\sf op}(#1)}
\newcommand{\tImplOf}[1]{{\sf implof}(#1)}
\newcommand{\tden}[2]{\llbracket #1, #2 \rrbracket}

\newcommand{\trefl}[1]{{\sf refl}(#1)}
\newcommand{\tsym}[1]{{\sf sym}(#1)}
\newcommand{\ttrans}[2]{{\sf trans}(#1, #2)}

\newcommand{\tprog}[1]{{\sf program}\{#1\}}

% IL Types
\newcommand{\tILt}[1]{{#1}}
\newcommand{\tILtb}[1]{\tILt{\tt #1}}
\newcommand{\tILtof}[1]{\tILt{|#1|}}
\newcommand{\tILtint}{\tILtb{int}}
%\newcommand{\tILtbool}{\tILtb{bool}}
\newcommand{\tILtarrow}[2]{\tILtb{arrow(#1, #2)}}
\newcommand{\tILtprod}[2]{\tILtb{prod(#1, #2)}}
\newcommand{\tILtcase}[4]{{\sf itcase}~#1~{\sf of }~#2, #3, #4}

% IL terms
\newcommand{\mvar}[1]{\textrm{#1}}
\newcommand{\mlam}[3]{\lambda #1::#2.#3}
\newcommand{\mfix}[3]{{\sf fix~}#1::#2.#3}
\newcommand{\mapp}[2]{#1~#2}
\newcommand{\mpair}[2]{(#1, #2)}
\newcommand{\mfst}[1]{{\sf fst}~#1}
\newcommand{\msnd}[1]{{\sf snd}~#1}
\newcommand{\mintlit}{\mathbb{Z}}
\newcommand{\mop}[2]{#1 + #2}
\newcommand{\mTrue}{\textsf{T}}
\newcommand{\mFalse}{\textsf{F}}
\newcommand{\mIfEq}[4]{{\sf if}~#1=_{\beta}#2~{\sf then}~#3; #4}
\newcommand{\mvalof}[1]{{\sf valof}(#1)}

% Kinds
\newcommand{\kvar}[1]{\textrm{#1}}
\newcommand{\karrow}[2]{[#1]\rightarrow{#2}}
\newcommand{\kforall}[2]{\forall \kvar{#1}.#2}
\newcommand{\kunit}{\texttt{Unit}}
\newcommand{\kstr}{\texttt{Str}}
\newcommand{\kpair}[2]{#1 \times #2}
\newcommand{\klabel}[1]{\textsc{#1}}
\newcommand{\klabelOf}[2]{\klabel{#1}~{\tt of}~#2}
\newcommand{\kTypeBlur}{\texttt{Type}}
\newcommand{\kType}[1]{\texttt{Type}[#1]}
\newcommand{\kOp}[1]{\texttt{Op}_{#1}}
\newcommand{\kDen}{\texttt{Den}}
\newcommand{\kDenk}[1]{\texttt{Den}[#1]}
\newcommand{\kIdxcase}[1]{{\tt Idxcase}~#1}
\newcommand{\kIType}{\texttt{IType}}
\newcommand{\kEqProof}[3]{#1 \equiv_{#2} #3}
\newcommand{\kProg}{\texttt{Program}}
\newcommand{\kcasev}{\Omega^n}

% Arities
\newcommand{\nz}{\textbf{z}}
\newcommand{\ns}[1]{\textbf{s}(#1)}

% Cases
\newcommand{\caseZ}[2]{#1 \Rightarrow #2}
\newcommand{\caseS}[2]{#1; #2}
\newcommand{\kcaseZ}[1]{#1}
\newcommand{\kcaseS}[2]{#1; #2}

% JUdgements
\newcommand{\tof}[2]{#1 : #2}
\newcommand{\mtof}[2]{#1 :: #2}
\newcommand{\tentails}[4]{#1~#2~#3 \vdash #4}
\newcommand{\tentailsX}[1]{\tentails{\kvarCtx}{\labelCtx}{\tvarCtx}{#1}}
\newcommand{\tentailsXt}[2]{\tentailsX{\tof{#1}{#2}}}
\newcommand{\kentails}[3]{#1~#2 \vdash #3}
\newcommand{\kentailsX}[1]{\kentails{\kvarCtx}{\labelCtx}{#1}}
\newcommand{\casemap}[2]{#1 : #2}
\newcommand{\mentails}[5]{#1~#2~#3~#4 \vdash #5}
\newcommand{\mentailsX}[1]{\mentails{\kvarCtx}{\labelCtx}{\tvarCtx}{\mvarCtx}{#1}}
\newcommand{\eentails}[5]{#1~#2~#3~#4 \vdash #5}
\newcommand{\eentailsX}[1]{\mentails{\kvarCtx}{\labelCtx}{\tvarCtx}{\evarCtx}{#1}}
\newcommand{\mtentails}[2]{#1 \vdash #2}
\newcommand{\mtentailsX}[1]{\mtentails{\mCtx}{#1}}
\newcommand{\mtentailsXt}[2]{\mtentails{\mCtx}{\mtof{#1}{#2}}}

% Big-Step Semantics
\newcommand{\tevals}[3]{#1 \Downarrow_{#3} #2}
\newcommand{\teval}[2]{\tevals{#1}{#2}{\Sigma}}
\newcommand{\tevalms}[3]{#1 \Downarrow_{#3} #2}
\newcommand{\tevalm}[2]{\tevalms{#1}{#2}{\Sigma}}
\newcommand{\tevales}[3]{#1 \Downarrow_{#3} #2}
\newcommand{\tevale}[2]{\tevales{#1}{#2}{\Sigma}}
\newcommand{\noprob}{\text{ok}}
\newcommand{\prob}{!}

% Compilation Semantics
\newcommand{\compiless}[3]{#1 \Longrightarrow \tden{#2}{#3}}
\newcommand{\compiles}[5]{#1 \Longrightarrow \tden{#2}{\ttype{#3}{#4}{#5}}}
\newcommand{\translates}[6]{\entails{#1}{\translatesTo{#2}{#3}{#4}{#5}{#6}}}
\newcommand{\translatesTo}[5]{#1 \longrightarrow \tden{#2}{\ttype{#3}{#4}{#5}}}
\newcommand{\translatesX}[5]{\translates{\eCtx}{#1}{#2}{#3}{#4}{#5}}
