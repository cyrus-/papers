\begin{tabular}{>{$}l<{$}>{$}l<{$}>{$}l<{$}}
\linenumber{1}&
\keyw{type}~\svar{V} = \scolor{\concty{lprod}{\{\conclbl{venue} : \concty{rstr}{\concrx{([A-Z]+) \digit\{4\}}}\}}}&
\keyw{letstatic}[\scolor{\sty{\tcvar{lprod}}{\conckap{\svar{list1}}{\kprod{\klbl}{\kty}}~(\desugar{\conclbl{venue}}, \sty{\tcvar{rstr}}{\desugar{\concrx{([A-Z]+) \digit\{4\}}}})}}](\svar{V}.\\
\linenumber{2}&
\keyw{let}~{v} : \scolor{\svar{V}} = {\{\conclbl{venue}}{=}\concstr{EXMPL 2015}\}&
\keyw{let}(\easc{\elit{\scolor{\conckap{\svar{list1}}{\klbl}~\desugar{\conclbl{venue}}}}{\elit{\scolor{\desugar{\concstr{EXMPL 2015}}}}{\cdot}}}{\scolor{\svar{V}}}; v.\\
\linenumber{3}&
\keyw{let}~prefix = \concstr{01.0001/} : \scolor{\concty{rstr}{\concrx{\digit\{2\}\rdot\digit\{4\}\textbackslash/}}}&
\keyw{let}(\easc{{\elit{\scolor{\desugar{\concstr{01.0001/}}}}{\cdot}}}{\scolor{\sty{\tcvar{rstr}}{{\desugar{\concrx{\digit\{2\}\rdot\digit\{4\}\textbackslash /}}}}}}; prefix.\\
\linenumber{4}&
\keyw{fun}~paper~(title : \scolor{\concty{rstr}{\concrx{.+}}})~(id : \scolor{\concty{rstr}{\concrx{\digit+}}}) = &
\keyw{let}(\lambda[\scolor{\sty{\tcvar{rstr}}{\desugar{\concrx{.+}}}}](title.\lambda[\scolor{\sty{\tcvar{rstr}}{\desugar{\concrx{\digit+}}}}](id.\\
\linenumber{5}&
\quad v\conctarg{with}(\conclbl{title} = title, \conclbl{doi} = prefix\conctarg{concat}(id))&
\quad \etarg{\opname{with}}{\scolor{\conckap{\svar{list2}}{\klbl}~\desugar{\conclbl{title}}~\desugar{\conclbl{doi}}}}{v}{title, \etarg{\opname{concat}}{\scolor{\striv}}{prefix}{id}})); paper.\\
\linenumber{6}&
\keyw{let}~pid : \scolor{\concty{rstr}{\concrx{\digit\{3\}}}} = \concstr{005}&
\keyw{let}(\easc{\elit{\scolor{\desugar{\concstr{005}}}}{\cdot}}{\scolor{\sty{\tcvar{rstr}}{\scolor{\desugar{\concrx{\digit\{3\}}}}}}}; pid.\\
\linenumber{7}&
\keyw{let}~p = paper~\concstr{M Theory}~(pid\conctarg{coerce}[\scolor{\concrx{\digit+}}])&
\keyw{let}(\eap{\eap{paper}{\elit{\scolor{\desugar{\concstr{M Theory}}}}{\cdot}}}{\etarg{\opname{coerce}}{\scolor{\desugar{\concrx{\digit+}}}}{pid}{\cdot}}; p.\\
\linenumber{8}&
\keyw{let}~{c} = p\opname{\#}\conclbl{venue}\opname{\#}0&
\keyw{let}(\etarg{\opname{\#}}{\scolor{\desugar{0}}}{\etarg{\opname{\#}}{\scolor{\desugar{\conclbl{venue}}}}{p}{\cdot}}{\cdot}; c.\\
\linenumber{9}&
c\conctarg{case}(\lambda c:\scolor{\concty{rstr}{\concrx{EXMPL}}}.c.\opname{!rc}; v.\opname{!ri})&
\etarg{\opname{case}}{\scolor{\striv}}{c}{\elam{\scolor{\sty{\tcvar{rstr}}{\desugar{\concrx{EXMPL}}}}}{c}{\etarg{\opname{!rc}}{\scolor{\striv}}{c}{\cdot}}, \etarg{\opname{!ri}}{\scolor{\striv}}{v}{\cdot}})))))))\\
\end{tabular}